(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){e.exports=a(138)},119:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),u=a(12),o=(a(119),a(36)),m=a.n(o),i=a(51),s=a(3),d=(a(103),a(23)),E=a(178),b=(a(183),a(179)),v=a(184),g=a(42),p=a(92),O=a(93),f=a(100),j=a(102),h=function(e){Object(j.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(O.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"Welcome")}}]),a}(n.Component),S=a(18),N=a(185),C=a(176),y=a(19),$=a.n(y),w=a(11);function D(){var e=Object(S.a)(["\n    mutation LOGIN($email:String!,$password: String!){\n        login(data:{\n            email: $email\n            password: $password\n        }){\n            Faculty{\n                id,\n                firstName,\n                LastName,\n                email\n            },\n            token\n        }\n    }\n"]);return D=function(){return e},e}function k(){var e=Object(S.a)(["\n    query($id:ID){\n        faculty{\n            id\n            firstName\n            LastName\n            email\n            instructings{\n                id\n            }\n\n        }\n    }\n\n"]);return k=function(){return e},e}function A(){var e=Object(S.a)(["\n    query{\n        faculties{\n            id\n            firstName\n            LastName\n        }\n    }\n"]);return A=function(){return e},e}function I(){var e=Object(S.a)(["\n    mutation CREATE_ENROLLMENT($student_id:ID,$course_id:ID){\n        createEnrollment(data:{\n            student:{\n                connect:{\n                    id:$student_id\n                }\n            }\n            course:{\n                connect:{\n                    id:$course_id\n                }\n            }\n        }){\n            student{\n                id\n            }\n            course{\n                id\n            }\n        }\n\n    }\n\n\n"]);return I=function(){return e},e}function L(){var e=Object(S.a)(["\n    mutation UPDATE_COURSE($id:ID!,$name:String!,$NOS:Int,$program:ID){\n        updateCourse(where:{id:$id},\n            data:{\n                name:$name\n                numOfStudent:$NOS\n                program:{\n                    connect:{\n                        id:$program\n                    }\n                }\n            }\n        ){\n            id\n            name\n            numOfStudent\n        }\n    }\n\n"]);return L=function(){return e},e}function P(){var e=Object(S.a)(["\n  query Get_COURSE($coure_id: ID!) {\n    course(where: {id:$coure_id}) {\n      id\n      name\n      numOfStudent\n      program{\n        name\n      }\n      enrollments{\n        student{\n          id\n          firstName\n          LastName\n        }\n      }\n\n    }\n  }\n"]);return P=function(){return e},e}function _(){var e=Object(S.a)(["\n  query GET_COURSES_BY_PROGRAM_ID($program_id:ID)\n  {\n    courses(where:{\n        program:{\n            id:$program_id\n        }\n    }){\n      id\n      name\n    }\n  }\n"]);return _=function(){return e},e}function x(){var e=Object(S.a)(["\n  {\n    courses {\n      id\n      name\n    }\n  }\n"]);return x=function(){return e},e}function U(){var e=Object(S.a)(["\n    mutation CREATE_COURSE($id:ID!,$name:String!,$NOS:Int!,$program_id:ID){\n        createCourse(data:{\n            id:$id\n            name:$name\n            numOfStudent:$NOS\n            program:{\n                connect:{id:$program_id}\n            }\n        }){\n            id\n            name\n            numOfStudent\n            program{\n                id\n                name\n            }\n        }\n    }\n\n"]);return U=function(){return e},e}function F(){var e=Object(S.a)(["\n    mutation UPDATE_PROGRAM($id:ID!,$name:String!){\n        updateProgram(where:{id:$id},\n            data:{name:$name}\n        ){\n            id\n            name\n        }\n    }\n\n"]);return F=function(){return e},e}function B(){var e=Object(S.a)(["\n    mutation CREATE_PROGRAM($id:ID!,$name:String!){\n        createProgram(data:{\n            id:$id\n            name:$name\n        }){\n            id\n            name\n        }\n    }\n\n"]);return B=function(){return e},e}function T(){var e=Object(S.a)(["\nquery GET_PROGRAM($id:ID){\n  program(where:{id:$id}){\n    id\n    name\n    courses{\n      id\n      name\n    }\n  }\n}\n"]);return T=function(){return e},e}function R(){var e=Object(S.a)(["\n{\n  programs(orderBy:name_ASC) {\n    id\n    name\n    courses{\n      id\n      name\n    }\n  }\n}\n"]);return R=function(){return e},e}function M(){var e=Object(S.a)(["\n    subscription GET_ATTENDANCE{\n        attendance{\n            mutation\n            node{\n                time\n                student{\n                    id\n                    firstName\n                    enrollments{\n                        course{\n                            attendances{\n                                time\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n  \n"]);return M=function(){return e},e}function G(){var e=Object(S.a)(['\n    mutation UPDATE_STUDENT(\n        $id:ID!,$firstName:String!,$lastName:String!,$password:String!,\n        $program_id:ID){\n        updateStudent(\n            where:{id:$id},\n            data:{\n                firstName:$firstName\n                LastName:$lastName\n                password:$password\n                status:"full-time"\n                program:{\n                    connect:{id:$program_id}\n                }\n            }\n        ){\n            id\n            firstName\n            LastName\n            email\n\n        }\n    }\n\n']);return G=function(){return e},e}function q(){var e=Object(S.a)(['\n    mutation CREATE_STUDENT(\n        $id:ID!,$firstName:String!,$lastName:String!,$password:String!,\n        $email:String!,$program_id:ID){\n        createStudent(data:{\n            id:$id\n            firstName:$firstName\n            LastName:$lastName\n            email:$email\n            password:$password\n            status:"full-time"\n            program:{\n                connect:{id:$program_id}\n            }\n        }){\n            id\n            firstName\n            LastName\n            email\n            program{\n                name\n            }\n        }\n    }\n\n']);return q=function(){return e},e}function H(){var e=Object(S.a)(["\n    query GET_STUDENT($student_id:ID){\n    student(where:{id:$student_id}){\n        id\n        firstName\n        LastName\n        email\n        status\n        program{\n            id\n            name\n        }\n        enrollments{\n            id\n            course{\n                id\n                name\n                attendances{\n                    time\n                }\n            }\n        }\n        \n    }\n  }\n"]);return H=function(){return e},e}function z(){var e=Object(S.a)(["\n{\n  students{\n    id\n    firstName\n    LastName\n  }\n}\n"]);return z=function(){return e},e}var Z=$()(z()),W=$()(H()),J=$()(q()),Y=$()(G()),K=$()(M()),Q=$()(R()),V=$()(T()),X=$()(B()),ee=$()(F()),te=$()(U()),ae=$()(x()),ne=$()(_()),re=$()(P()),le=$()(L()),ce=$()(I()),ue=$()(A()),oe=($()(k()),$()(D()));function me(){var e=Object(S.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n    }\n  }\n"]);return me=function(){return e},e}var ie=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;$()(me());function se(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=(a[0],a[1],Object(n.useState)(!1)),c=Object(s.a)(l,2),u=(c[0],c[1],Object(n.useState)("")),o=Object(s.a)(u,2),m=o[0],i=o[1],d=Object(n.useState)(""),E=Object(s.a)(d,2),b=E[0],v=E[1],p=Object(n.useState)(),O=Object(s.a)(p,2),f=O[0],j=O[1],h=Object(n.useState)(),S=Object(s.a)(h,2),y=S[0],$=S[1],D=Object(w.a)(oe,{variables:{email:m,password:b}}),k=Object(s.a)(D,2),A=k[0],I=k[1],L=I.error,P=I.data;return P&&"Unable to login"!==P.login.token&&(e.userHasAuthenticated(!0),localStorage.setItem("token",P.login.token),localStorage.setItem("role",P.login.faculty.status)),r.a.createElement("div",null,L?r.a.createElement("p",null,"Oh no! ",L.message):null,P&&"Unable to login"!==P.login.token?r.a.createElement(g.a,{to:"/"}):r.a.createElement("div",{className:"Login"},r.a.createElement("div",null,r.a.createElement(N.a,{placeholder:"Enter your Username",label:"Username",value:m,onChange:function(e){var t=e.target;i(t.value),j(ie.test(t.value.toLowerCase())?"success":"error")}}),r.a.createElement("br",null),r.a.createElement(N.a,{type:"password",placeholder:"Enter your Password",label:"Password",value:b,onChange:function(e){var t=e.target;v(t.value),$(t.value.length<8?"error":"success")}}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return A()},disabled:"success"!==y||"success"!==f},"Log in"))))}var de=a(33),Ee=a(186),be=a(182),ve=a(177);function ge(e){var t=e.programs,a=Object(n.useState)(),l=Object(s.a)(a,2),c=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement(Ee.a,null,"Program"),r.a.createElement(be.a,{value:c,onChange:function(t){u(t.target.value),e.onProgramClick(t.target.value)}},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(ve.a,{key:e.id,value:e.id},e.name)}))))}var pe=/(?!^.*[A-Z]{2,}.*$)^[A-Za-z]*$/;function Oe(e){var t;Object(de.a)(e);var a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),m=Object(s.a)(o,2),i=m[0],d=m[1],b=Object(n.useState)(""),v=Object(s.a)(b,2),g=v[0],p=v[1],O=Object(n.useState)(""),f=Object(s.a)(O,2),j=f[0],h=f[1],S=Object(n.useState)(""),y=Object(s.a)(S,2),$=y[0],D=y[1],k=Object(n.useState)(""),A=Object(s.a)(k,2),I=A[0],L=A[1],P=Object(n.useState)(),_=Object(s.a)(P,2),x=_[0],U=_[1],F=Object(n.useState)(),B=Object(s.a)(F,2),T=B[0],R=B[1],M=Object(n.useState)(),G=Object(s.a)(M,2),q=G[0],H=G[1];var z=Object(w.b)(Q),Z=Object(w.a)(J,{variables:{id:$,firstName:c,lastName:i,password:j,email:I,program_id:g}}),W=Object(s.a)(Z,2),Y=W[0],K=W[1],V=K.error,X=K.data,ee=function(e,t){var a="999"+String(Math.floor(Math.random()*(t-e))+e);return D(a),console.log(a),a},te=function(e,t,a){var n=e[0]+t+a.substring(3)+"@conestogac.on.ca";return L(n),console.log(n),n};return r.a.createElement("div",null,r.a.createElement("h3",null,"Sign Up"),V?r.a.createElement("p",null,"Oh no! ",V.message):null,X&&X.createStudent?r.a.createElement("div",null,r.a.createElement("p",null,"Saved!"),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student ID: ",X&&X.createStudent.id),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student name: ",X&&X.createStudent.firstName," ",X.createStudent.LastName),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student Email: ",X&&X.createStudent.email),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Status: ",X&&X.createStudent.status)):r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(N.a,{placeholder:"Enter your first name",label:"First Name",value:c,onChange:function(e){u(e.target.value),U(pe.test(e.target.value.toLowerCase())?"success":"error"),te(c,i,ee(1111,9999))}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your last name",label:"Last Name",value:i,onChange:function(e){d(e.target.value),R(pe.test(e.target.value.toLowerCase())?"success":"error"),te(c,i,ee(1111,9999))}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your password",type:"password",label:"Password",value:j,onChange:function(e){h(e.target.value),H(e.target.value.length<8?"error":"success"),te(c,i,ee(1111,9999))}}),r.a.createElement("br",null),r.a.createElement(ge,{programs:null===(t=z.data)||void 0===t?void 0:t.programs,onProgramClick:function(e){p(e)}}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",disabled:"success"!==q||"success"!==x||"success"!==T,onClick:function(){return $&&c&&i&&I&&g&&Y()}},"Sign Up"))))}var fe=a(188),je=a(189),he=a(190),Se=a(181),Ne=a(175),Ce=a(141),ye=a(59),$e=a.n(ye),we=(a(63),Object(b.a)((function(e){return Object(fe.a)({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}})})));function De(e){var t,a=we(),l=Object(n.useState)(!1),c=Object(s.a)(l,2);c[0],c[1];return r.a.createElement("div",{className:a.root},r.a.createElement(je.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement($e.a,null),"aria-controls":"panel1a-content",id:e.program.id},r.a.createElement(E.a,{className:a.heading},e.program.name),r.a.createElement(u.b,{to:"/program/"+e.program.id},"detail")),r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,null===(t=e.program.courses)||void 0===t?void 0:t.map((function(e){return r.a.createElement(Ce.a,{key:e.id},r.a.createElement(u.b,{to:"/course/"+e.id},r.a.createElement(E.a,null,e.name)))}))))))}function ke(e){Object(de.a)(e);var t=Object(w.b)(Q),a=t.loading,l=t.data;return r.a.createElement(n.Fragment,null,a?r.a.createElement("p",null,"Loading ..."):r.a.createElement(n.Fragment,null,r.a.createElement(Ne.a,null,l&&l.programs.map((function(e){return r.a.createElement(Ce.a,{key:e.id,className:"program-list"}," ",r.a.createElement(De,{program:e})," ")})))))}function Ae(e){var t=Object(n.useState)(e.program.name),a=Object(s.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(e.program.id),o=Object(s.a)(u,2),m=o[0],i=o[1],d=Object(w.a)(ee,{variables:{id:m,name:l}}),E=Object(s.a)(d,2),b=E[0],v=E[1],g=v.error,p=v.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Update a Program"),g?r.a.createElement("p",null,"Oh no! ",g.message):null,p&&p.updateProgram?r.a.createElement("p",null,"Saved!"):r.a.createElement("div",{className:"CreateProgram"},r.a.createElement(N.a,{placeholder:"Enter the Program name",label:"Program Name",value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{disabled:!0,placeholder:"Enter program ID",label:"Program ID",value:m,onChange:function(e){return i(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return m&&l&&b()}},"Update Program")))}function Ie(e){var t,a,l,c=Object(n.useState)(!1),o=Object(s.a)(c,2),m=(o[0],o[1],Object(n.useState)(!1)),i=Object(s.a)(m,2),d=i[0],b=i[1],v=Object(w.b)(V,{variables:{id:e.match.params.id}}),g=(v.loading,v.data);return r.a.createElement("div",null,d?r.a.createElement("div",null,g&&r.a.createElement(Ae,{program:g.program})):r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Program ID: ",g&&(null===g||void 0===g?void 0:g.program.id)),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Program name: ",g&&(null===g||void 0===g?void 0:g.program.name)),r.a.createElement(C.a,{onClick:function(){return b(!d)}},"update"),r.a.createElement(je.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement($e.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(E.a,null,null===g||void 0===g?void 0:g.program.name," Course List")),r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,null===g||void 0===g||null===(t=g.program.courses)||void 0===t?void 0:t.map((function(e){return r.a.createElement(Ce.a,{key:e.id},r.a.createElement(u.b,{to:"/course/"+e.id},r.a.createElement(E.a,null,e.name)))}))))),r.a.createElement(je.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement($e.a,null),"aria-controls":"panel2a-content",id:"panel2a-header"},r.a.createElement(E.a,null,null===g||void 0===g?void 0:g.program.name," Faculty List")),r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,null===g||void 0===g||null===(a=g.program.faculties)||void 0===a?void 0:a.map((function(e){return r.a.createElement(Ce.a,{key:e.id},r.a.createElement(u.b,{to:"/faculty/"+e.id},r.a.createElement(E.a,null,e.firstName," ",e.LastName)))}))))),r.a.createElement(je.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement($e.a,null),"aria-controls":"panel3a-content",id:"panel3a-header"},r.a.createElement(E.a,null,null===g||void 0===g?void 0:g.program.name," Student List")),r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null,null===g||void 0===g||null===(l=g.program.students)||void 0===l?void 0:l.map((function(e){return r.a.createElement(Ce.a,{key:e.id},r.a.createElement(u.b,{to:"/student/"+e.id},r.a.createElement(E.a,null,e.firstName," ",e.LastName)))})))))))}function Le(e){var t=Object(w.b)(ae),a=t.loading,l=t.data;return r.a.createElement("div",null,a?r.a.createElement("p",null,"Loading ..."):r.a.createElement(n.Fragment,null,"course list",r.a.createElement(Ne.a,null,l&&l.courses.map((function(e){return r.a.createElement(Ce.a,{key:e.id,className:"course-list"},r.a.createElement(u.b,{to:"/course/"+e.id}," ",e.name))})))))}function Pe(e){var t,a=e.course,l=Object(n.useState)(a.name),c=Object(s.a)(l,2),u=c[0],o=c[1],m=Object(n.useState)(a.id),i=Object(s.a)(m,2),d=i[0],E=i[1],b=Object(n.useState)(a.program.name),v=Object(s.a)(b,2),g=v[0],p=v[1],O=Object(n.useState)(a.numOfStudent),f=Object(s.a)(O,2),j=f[0],h=f[1],S=Object(w.b)(Q),y=Object(w.a)(le,{variables:{id:d,name:u,numOfStudent:j,program:g}}),$=Object(s.a)(y,2),D=$[0],k=$[1],A=k.error,I=k.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Update a Course"),A?r.a.createElement("p",null,"Oh no! ",A.message):null,I&&I.updateCourse?r.a.createElement("p",null,"Saved!"):r.a.createElement("div",{className:"UpdateCourse"},r.a.createElement(N.a,{placeholder:"Enter the Course name",label:"Course Name",value:u,onChange:function(e){return o(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{disabled:!0,placeholder:"Enter Course ID",label:"Course ID",value:d,onChange:function(e){return E(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter Number of Student",label:"Number of Student",value:j,onChange:function(e){return h(Number(e.target.value))}}),r.a.createElement("br",null),"Current program is ",e.course.program.name,r.a.createElement(Ee.a,null,"Program"),r.a.createElement(be.a,{value:g,onChange:function(e){return p(e.target.value)}},S.loading?r.a.createElement(ve.a,{disabled:!0},"loading...."):null===(t=S.data)||void 0===t?void 0:t.programs.map((function(e){return r.a.createElement(ve.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return d&&u&&j&&g&&D()}},"Update Course")))}function _e(e){console.log(e.match.params.id);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(w.b)(re,{variables:{coure_id:e.match.params.id}}),m=(o.loading,o.data);return r.a.createElement(n.Fragment,null,l?m&&r.a.createElement(Pe,{course:m.course}):r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Course ID: ",m&&m.course.id),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Program name: ",m&&m.course.program.name),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Course name: ",m&&m.course.name),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Students: ",m&&m.course.numOfStudent),"Student List",m&&m.course.enrollments.map((function(e){return r.a.createElement(u.b,{to:"/student/"+e.student.id},r.a.createElement(Ce.a,{key:e.student.id},e.student.firstName," ",e.student.LastName))})),r.a.createElement(C.a,{onClick:function(){return c(!l)}},"update")))}function xe(e){var t=Object(w.b)(Z),a=t.loading,l=t.data;return r.a.createElement("div",null,"Student list",a?r.a.createElement("p",null,"Loading ..."):r.a.createElement(n.Fragment,null,l&&l.students.map((function(e){return r.a.createElement(Ne.a,{key:e.id,className:"student-list"},r.a.createElement(u.b,{to:"/student/"+e.id}," ",e.firstName," ",e.LastName))}))))}var Ue=a(180),Fe=(a(77),a(78));function Be(e){var t,a,l=Object(n.useState)(""),c=Object(s.a)(l,2),u=c[0],o=c[1],m=Object(n.useState)(),i=Object(s.a)(m,2),d=i[0],E=i[1],b=Object(w.b)(Q),v=b.loading,g=b.data,p=Object(w.b)(ne,{variables:{program_id:u}});var O=r.a.useState({}),f=Object(s.a)(O,2);f[0],f[1];return r.a.createElement("div",null,v?r.a.createElement("div",null,"loading...."):r.a.createElement(ge,{programs:null===g||void 0===g?void 0:g.programs,onProgramClick:function(t){o(t),e.onProgramClick(t)}}),r.a.createElement("br",null),r.a.createElement(be.a,{value:d,onChange:function(t){E(t.target.value),e.onCourseClick(t.target.value)}},null===(t=p.data)||void 0===t||null===(a=t.courses)||void 0===a?void 0:a.map((function(e){return r.a.createElement(ve.a,{key:e.id,value:e.id},e.name)}))))}function Te(e){var t=Object(n.useState)(e.student_id),a=Object(s.a)(t,2),l=a[0],c=(a[1],Object(n.useState)("")),u=Object(s.a)(c,2),o=(u[0],u[1]),m=Object(n.useState)(""),i=Object(s.a)(m,2),d=i[0],E=i[1];console.log(l);var b=Object(w.a)(ce,{variables:{student_id:e.student_id,course_id:d}}),v=Object(s.a)(b,2),g=v[0],p=v[1],O=p.error,f=p.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Add a Course"),O?r.a.createElement("p",null,"Oh no! ",O.message):null,f&&f.enrollment?r.a.createElement("p",null,"Saved!"):r.a.createElement("div",null,r.a.createElement(Be,{onProgramClick:function(e){o(e)},onCourseClick:function(e){E(e)}}),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return l&&d&&g()}},"Update User")))}function Re(e){var t=e.student,a=Object(n.useState)(t.firstName),l=Object(s.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(t.LastName),m=Object(s.a)(o,2),i=m[0],d=m[1],b=Object(n.useState)(t.program.id),v=Object(s.a)(b,2),g=v[0],p=(v[1],Object(n.useState)(t.password)),O=Object(s.a)(p,2),f=O[0],j=O[1],h=Object(n.useState)(t.id),S=Object(s.a)(h,2),y=S[0],$=(S[1],Object(n.useState)(t.email)),D=Object(s.a)($,2),k=D[0],A=(D[1],Object(n.useState)(!1)),I=Object(s.a)(A,2),L=I[0],P=I[1],_=(Object(w.b)(Q),Object(w.a)(Y,{variables:{id:y,firstName:c,lastName:i,password:f,program_id:g}})),x=Object(s.a)(_,2),U=x[0],F=x[1],B=F.error,T=F.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Update User"),L?r.a.createElement(Te,{student_id:y}):r.a.createElement("div",null,B?r.a.createElement("p",null,"Oh no! ",B.message):null,T&&T.updateStudent?r.a.createElement("div",null,r.a.createElement("p",null,"Saved!"),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student ID: ",T&&T.updateStudent.id),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student name: ",T&&T.updateStudent.firstName," ",T.updateStudent.LastName),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student Email: ",T&&T.updateStudent.email),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Status: ",T&&T.updateStudent.status)):r.a.createElement("div",null,r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return P(!0)}},"Add courese"),r.a.createElement("br",null),r.a.createElement(N.a,{disabled:!0,placeholder:"Enter your ID",label:"ID",value:y}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your first name",label:"First Name",value:c,onChange:function(e){u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your last name",label:"Last Name",value:i,onChange:function(e){d(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your password",type:"password",label:"Password",value:f,onChange:function(e){j(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{disabled:!0,placeholder:"Enter your email",label:"Email",value:k}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return y&&c&&i&&f&&g&&U()}},"Update User"))))}function Me(e){console.log(e.match.params.id);var t=Object(w.b)(W,{variables:{student_id:e.match.params.id}}),a=(t.loading,t.data),l=t.refetch;Object(w.c)(K).loading||l();var c=Object(n.useState)(!0),u=Object(s.a)(c,2),o=u[0],m=u[1],i=Object(n.useState)(!1),d=Object(s.a)(i,2),b=d[0],v=d[1];return r.a.createElement("div",null,b?a&&r.a.createElement(Re,{student:a.student}):r.a.createElement(n.Fragment,null,console.log(a),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},a&&a.student.firstName," ",a&&a.student.LastName),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},a&&a.student.email),a&&a.student.enrollments.map((function(e){return r.a.createElement(Ne.a,null,r.a.createElement(Ce.a,{button:!0,onClick:function(){return m(!o)}},e.course.name),r.a.createElement(Ue.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ne.a,null,e.course.attendances.map((function(e){return r.a.createElement(Ce.a,null,e.time)})))))})),r.a.createElement(C.a,{onClick:function(){return v(!b)}},"Update")))}function Ge(e){Object(de.a)(e);var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)(""),o=Object(s.a)(u,2),m=o[0],i=o[1],d=Object(w.a)(X,{variables:{id:m,name:l}}),E=Object(s.a)(d,2),b=E[0],v=E[1],g=v.error,p=v.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Add a Program"),g?r.a.createElement("p",null,"Oh no! ",g.message):null,p&&p.createProgram?r.a.createElement("p",null,"Saved!"):r.a.createElement("div",{className:"CreateProgram"},r.a.createElement(N.a,{placeholder:"Enter the Program name",label:"Program Name",value:l,onChange:function(e){return c(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter program ID",label:"Program ID",value:m,onChange:function(e){return i(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return m&&l&&b()}},"Create Program")))}function qe(e){var t;Object(de.a)(e);var a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),m=Object(s.a)(o,2),i=m[0],d=m[1],E=Object(n.useState)(""),b=Object(s.a)(E,2),v=b[0],g=b[1],p=Object(n.useState)(""),O=Object(s.a)(p,2),f=O[0],j=O[1];var h=Object(w.a)(te,{variables:{id:i,name:c,NOS:Number(v),program_id:f}}),S=Object(s.a)(h,2),y=S[0],$=S[1],D=$.error,k=$.data,A=Object(w.b)(Q);return r.a.createElement("div",null,r.a.createElement("h3",null,"Add a Course"),D?r.a.createElement("p",null,"Oh no! ",D.message):null,k&&k.createCourse?r.a.createElement("p",null,"Saved!"):r.a.createElement("form",null,r.a.createElement("div",{className:"CreateCourse"},r.a.createElement(N.a,{placeholder:"Enter the course name",label:"Course Name",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter course ID",label:"Course ID",value:i,onChange:function(e){return d(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter number of student",label:"Number of student",value:v,onChange:function(e){return g(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(ge,{programs:null===(t=A.data)||void 0===t?void 0:t.programs,onProgramClick:function(e){j(e)}}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return i&&c&&v&&f&&y()}},"Create Course"))))}function He(e){var t=Object(w.b)(ue),a=t.loading,l=t.data;return r.a.createElement("div",null,"Faculty list",a?r.a.createElement("p",null,"Loading ..."):r.a.createElement(n.Fragment,null,l&&l.faculties.map((function(e){return r.a.createElement(Ne.a,{key:e.id,className:"student-list"},r.a.createElement(u.b,{to:"/faculty/"+e.id}," ",e.firstName," ",e.LastName))}))))}function ze(e){var t=e.faculty,a=Object(n.useState)(t.firstName),l=Object(s.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(t.LastName),m=Object(s.a)(o,2),i=m[0],d=m[1],b=Object(n.useState)(t.program.id),v=Object(s.a)(b,2),g=v[0],p=(v[1],Object(n.useState)(t.password)),O=Object(s.a)(p,2),f=O[0],j=O[1],h=Object(n.useState)(t.id),S=Object(s.a)(h,2),y=S[0],$=(S[1],Object(n.useState)(t.email)),D=Object(s.a)($,2),k=D[0],A=(D[1],Object(n.useState)(!1)),I=Object(s.a)(A,2),L=I[0],P=I[1],_=(Object(w.b)(Q),Object(w.a)(Y,{variables:{id:y,firstName:c,lastName:i,password:f,program_id:g}})),x=Object(s.a)(_,2),U=x[0],F=x[1],B=F.error,T=F.data;return r.a.createElement("div",null,r.a.createElement("h3",null,"Update User"),L?r.a.createElement(Te,{student_id:y}):r.a.createElement("div",null,B?r.a.createElement("p",null,"Oh no! ",B.message):null,T&&T.updateFaculty?r.a.createElement("div",null,r.a.createElement("p",null,"Saved!"),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student ID: ",T&&T.updateFaculty.id),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student name: ",T&&T.updateFaculty.firstName," ",T.updateFaculty.LastName),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student Email: ",T&&T.updateFaculty.email),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Status: ",T&&T.updateFaculty.status)):r.a.createElement("div",null,r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return P(!0)}},"Add courese"),r.a.createElement("br",null),r.a.createElement(N.a,{disabled:!0,placeholder:"Enter your ID",label:"ID",value:y}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your first name",label:"First Name",value:c,onChange:function(e){u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your last name",label:"Last Name",value:i,onChange:function(e){d(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your password",type:"password",label:"Password",value:f,onChange:function(e){j(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(N.a,{disabled:!0,placeholder:"Enter your email",label:"Email",value:k}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",onClick:function(){return y&&c&&i&&f&&g&&U()}},"Update User"))))}function Ze(e){console.log(e.match.params.id);var t=Object(w.b)(W,{variables:{faculty_id:e.match.params.id}}),a=(t.loading,t.data),l=t.refetch;Object(w.c)(K).loading||l();var c=Object(n.useState)(!0),u=Object(s.a)(c,2),o=u[0],m=u[1],i=Object(n.useState)(!1),d=Object(s.a)(i,2),b=d[0],v=d[1];return r.a.createElement("div",null,b?a&&r.a.createElement(ze,{faculty:a.faculty}):r.a.createElement(n.Fragment,null,console.log(a),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},a&&a.faculty.firstName," ",a&&a.faculty.LastName),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},a&&a.faculty.email),a&&a.faculty.instructings.map((function(e){return r.a.createElement(Ne.a,null,r.a.createElement(Ce.a,{button:!0,onClick:function(){return m(!o)}},e.course.name),r.a.createElement(Ue.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ne.a,null,e.course.attendances.map((function(e){return r.a.createElement(Ce.a,null,e.time)})))))})),r.a.createElement(C.a,{onClick:function(){return v(!b)}},"Update")))}var We=/(?!^.*[A-Z]{2,}.*$)^[A-Za-z]*$/;function Je(e){var t;Object(de.a)(e);var a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],u=l[1],o=Object(n.useState)(""),m=Object(s.a)(o,2),i=m[0],d=m[1],b=Object(n.useState)(""),v=Object(s.a)(b,2),g=v[0],p=v[1],O=Object(n.useState)(""),f=Object(s.a)(O,2),j=f[0],h=f[1],S=Object(n.useState)(""),y=Object(s.a)(S,2),$=y[0],D=y[1],k=Object(n.useState)(""),A=Object(s.a)(k,2),I=A[0],L=A[1],P=Object(n.useState)(),_=Object(s.a)(P,2),x=_[0],U=_[1],F=Object(n.useState)(),B=Object(s.a)(F,2),T=B[0],R=B[1],M=Object(n.useState)(),G=Object(s.a)(M,2),q=G[0],H=G[1];var z=Object(w.b)(Q),Z=Object(w.a)(J,{variables:{id:$,firstName:c,lastName:i,password:j,email:I,program_id:g}}),W=Object(s.a)(Z,2),Y=W[0],K=W[1],V=K.error,X=K.data,ee=function(e,t){var a="999"+String(Math.floor(Math.random()*(t-e))+e);return D(a),console.log(a),a},te=function(e,t,a){var n=e[0]+t+a.substring(3)+"@conestogac.on.ca";return L(n),console.log(n),n};return r.a.createElement("div",null,r.a.createElement("h3",null,"Add Faculty"),V?r.a.createElement("p",null,"Oh no! ",V.message):null,X&&X.createFaculty?r.a.createElement("div",null,r.a.createElement("p",null,"Saved!"),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student ID: ",X&&X.createFaculty.id),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student name: ",X&&X.createFaculty.firstName," ",X.createFaculty.LastName),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Student Email: ",X&&X.createFaculty.email),r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Status: ",X&&X.createFaculty.status)):r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(N.a,{placeholder:"Enter your first name",label:"First Name",value:c,onChange:function(e){u(e.target.value),U(We.test(e.target.value.toLowerCase())?"success":"error"),console.log(We.test(e.target.value.toLowerCase())?"success":"error"),te(c,i,ee(1111,9999))}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your last name",label:"Last Name",value:i,onChange:function(e){d(e.target.value),R(We.test(e.target.value.toLowerCase())?"success":"error"),console.log(We.test(e.target.value.toLowerCase())?"success":"error"),te(c,i,ee(1111,9999))}}),r.a.createElement("br",null),r.a.createElement(N.a,{placeholder:"Enter your password",type:"password",label:"Password",value:j,onChange:function(e){h(e.target.value),H(e.target.value.length<8?"error":"success"),console.log(q),te(c,i,ee(1111,9999))}}),r.a.createElement("br",null),r.a.createElement(ge,{programs:null===(t=z.data)||void 0===t?void 0:t.programs,onProgramClick:function(e){p(e)}}),r.a.createElement("br",null),r.a.createElement(C.a,{color:"primary",variant:"text",disabled:"success"!==q||"success"!==x||"success"!==T,onClick:function(){return $&&c&&i&&I&&g&&Y()}},"Add"))))}var Ye,Ke,Qe=function(e){return r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/home",exact:!0,render:function(t){return r.a.createElement(h,Object.assign({},t,e))}}),r.a.createElement(g.b,{path:"/signup",exact:!0,render:function(t){return r.a.createElement(Oe,Object.assign({},t,e))}}),r.a.createElement(g.b,{path:"/login",exact:!0,render:function(t){return r.a.createElement(se,Object.assign({},t,e))}}),r.a.createElement(g.b,{path:"/create/program",exact:!0,component:Ge}),r.a.createElement(g.b,{path:"/create/course",exact:!0,component:qe}),r.a.createElement(g.b,{path:"/create/faculty",exact:!0,component:Je}),r.a.createElement(g.b,{path:"/create/student",exact:!0,component:Oe}),r.a.createElement(g.b,{path:"/programs",exact:!0,component:ke}),r.a.createElement(g.b,{path:"/courses",exact:!0,component:Le}),r.a.createElement(g.b,{path:"/faculties",exact:!0,component:He}),r.a.createElement(g.b,{path:"/students",exact:!0,component:xe}),r.a.createElement(g.b,{path:"/program/:id",exact:!0,component:Ie}),r.a.createElement(g.b,{path:"/course/:id",exact:!0,component:_e}),r.a.createElement(g.b,{path:"/faculty/:id",exact:!0,component:Ze}),r.a.createElement(g.b,{path:"/student/:id",exact:!0,component:Me}),r.a.createElement(g.b,{path:"/"},"Not Found"))},Ve=a(24),Xe=a(101),et=a(104),tt=a(98),at=a(5),nt=a(43),rt=a(99),lt=new et.a({uri:"https://murmuring-fortress-24950.herokuapp.com/"}),ct=new tt.a({uri:"wss://murmuring-fortress-24950.herokuapp.com/",options:{reconnect:!0}}),ut=Object(rt.a)((function(e,t){var a=t.headers,n=localStorage.getItem("token");return console.log("in header:"+n),{headers:Object(Fe.a)({},a,{authorization:n?"Bearer ".concat(n):""})}})),ot=Object(Ve.d)((function(e){var t=e.query,a=Object(at.l)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),ct,ut.concat(lt)),mt=new nt.a({link:ot,cache:new Xe.a,credentials:"include",request:function(){var e=Object(i.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setContext({fetchOptions:{credentials:"same-origin"}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchOptions:{credentials:"include"}});a(137);!function(e){e[e.CREATED=0]="CREATED",e[e.UPDATED=1]="UPDATED",e[e.DELETED=2]="DELETED"}(Ye||(Ye={})),function(e){e.SUPERADMIN="SUPERADMIN",e.ADMIN="ADMIN",e.USER="USER"}(Ke||(Ke={}));var it=Object(b.a)({root:{textDecoration:"none"},avtive:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px",textDecoration:"none"}});var st=function(e){var t=it(),a=Object(n.useState)(!0),l=Object(s.a)(a,2),c=l[0],o=l[1],m=Object(n.useState)(!1),i=Object(s.a)(m,2),E=(i[0],i[1],Object(n.useState)(0)),b=Object(s.a)(E,2),g=(b[0],b[1],function(e){o(e)}),p={isAuthenticated:c,userHasAuthenticated:g};return r.a.createElement("div",null,r.a.createElement(d.a,{client:mt},r.a.createElement("div",null,c?function(){var e=localStorage.getItem("role");return console.log("role:"+e),e==Ke.ADMIN?r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{"aria-label":"breadcrumb"},r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/home"},"Home"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/programs"},"Programs"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/courses"},"Courses"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/students"},"Students"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/faculties"},"Faculties"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/create/program"},"Add Program"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/create/course"},"Add Course"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/create/faculty"},"Add Faculty"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/create/student"},"Add Student"),r.a.createElement(u.b,{to:"/login"},"Login"))):r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{"aria-label":"breadcrumb"},r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/home"},"Home"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/programs"},"Programs"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/courses"},"Courses"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/students"},"Students"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/faculties"},"Faculties"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/create/course"},"Add Course"),r.a.createElement(u.b,{activeClassName:t.avtive,className:t.root,to:"/create/student"},"Add Student"),r.a.createElement(u.b,{to:"/login"},"Login")))}():r.a.createElement(se,{isAuthenticated:p.isAuthenticated,userHasAuthenticated:p.userHasAuthenticated}),r.a.createElement(Qe,{isAuthenticated:p.isAuthenticated,userHasAuthenticated:p.userHasAuthenticated}))))};c.a.render(r.a.createElement(u.a,{basename:"/client"},r.a.createElement(r.a.StrictMode,null,r.a.createElement(st,null))),document.getElementById("root"))},63:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.350fb6e5.chunk.js.map